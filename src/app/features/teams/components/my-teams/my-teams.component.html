<div class="my-teams-container">
  <!-- Header -->
  <div class="page-header">
    <div class="header-content">
      <mat-icon class="header-icon">groups</mat-icon>
      <div class="header-text">
        <h1 class="page-title">Mis Equipos</h1>
        <p class="page-subtitle">Gestiona tus equipos y jugadores</p>
      </div>
    </div>
    <button mat-raised-button color="primary" class="add-button" (click)="openCreateTeamModal()">
      <mat-icon>add</mat-icon>
      Nuevo Equipo
    </button>
  </div>

  <!-- Loading Spinner -->
  <div class="loading-container" *ngIf="isLoading">
    <mat-spinner diameter="50"></mat-spinner>
    <p class="loading-text">Cargando equipos...</p>
  </div>

  <!-- Teams Grid -->
  <div class="teams-grid" *ngIf="!isLoading">
    <mat-card *ngFor="let team of teams" class="team-card">
      <!-- Team Header -->
      <div class="team-header">
        <div class="team-logo">
          <img [src]="getTeamLogo(team.logoUrl)" [alt]="team.name" (error)="$event.target.src='assets/logo.png'">
        </div>
        <div class="team-info">
          <h2 class="team-name">{{ team.name }}</h2>
          <p class="team-short-name">{{ team.shortName }}</p>
        </div>
      </div>

      <mat-divider></mat-divider>

      <!-- Tournaments Section -->
      <div class="tournaments-section">
        <h3 class="section-title">
          <mat-icon>emoji_events</mat-icon>
          Torneos Participando
        </h3>
        
        <div class="tournaments-list" *ngIf="team.tournaments.length > 0; else noTournaments">
          <div *ngFor="let tournament of team.tournaments" class="tournament-item">
            <div class="tournament-info">
              <mat-icon class="tournament-icon">sports_soccer</mat-icon>
              <div class="tournament-details">
                <span class="tournament-name">{{ tournament.tournamentName }}</span>
                <span class="players-count">
                  <mat-icon class="small-icon">person</mat-icon>
                  {{ tournament.playersCount }} jugadores
                </span>
              </div>
            </div>
          </div>
        </div>

        <ng-template #noTournaments>
          <div class="no-tournaments">
            <mat-icon>info</mat-icon>
            <p>No participa en ning√∫n torneo actualmente</p>
          </div>
        </ng-template>
      </div>

      <!-- Card Actions -->
      <div class="card-actions">
        <button mat-button color="primary" (click)="viewTeamDetails(team.id)">
          <mat-icon>visibility</mat-icon>
          Ver Detalles
        </button>
        <button mat-button>
          <mat-icon>edit</mat-icon>
          Editar
        </button>
      </div>
    </mat-card>
  </div>

  <!-- Empty State -->
  <div class="empty-state" *ngIf="!isLoading && teams.length === 0">
    <mat-icon class="empty-icon">groups_off</mat-icon>
    <h2>No tienes equipos registrados</h2>
    <p>Comienza creando tu primer equipo</p>
    <button mat-raised-button color="primary" (click)="openCreateTeamModal()">
      <mat-icon>add</mat-icon>
      Crear Primer Equipo
    </button>
  </div>
</div>
