.team-stats-container {
  padding: 24px;
  max-width: 1600px;
  margin: 0 auto;

  .page-header {
    margin-bottom: 24px;

    .header-content {
      .page-title {
        display: flex;
        align-items: center;
        gap: 12px;
        margin: 0 0 8px 0;
        font-size: 28px;
        font-weight: 600;
        color: #1a1a1a;

        mat-icon {
          font-size: 32px;
          width: 32px;
          height: 32px;
          color: #1976d2;
        }
      }

      .page-subtitle {
        margin: 0;
        font-size: 14px;
        color: #666;
      }
    }
  }

  .stats-tabs {
    .tab-content {
      padding: 24px 0;
    }

    .main-stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
      margin-bottom: 24px;

      .stat-card {
        mat-card-content {
          padding: 24px;
          text-align: center;

          .stat-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 16px;

            mat-icon {
              font-size: 24px;
              width: 24px;
              height: 24px;
              color: #666;
            }

            .stat-title {
              font-size: 14px;
              color: #666;
              font-weight: 500;
            }
          }

          .stat-value {
            font-size: 48px;
            font-weight: 700;
            color: #1a1a1a;
            line-height: 1;
            margin-bottom: 8px;
          }

          .stat-percentage {
            font-size: 16px;
            font-weight: 600;
            color: #666;
          }
        }

        &.large mat-icon {
          color: #1976d2;
        }

        &.wins {
          mat-icon {
            color: #4caf50;
          }
          .stat-percentage {
            color: #4caf50;
          }
        }

        &.draws {
          mat-icon {
            color: #ff9800;
          }
          .stat-percentage {
            color: #ff9800;
          }
        }

        &.losses {
          mat-icon {
            color: #f44336;
          }
          .stat-percentage {
            color: #f44336;
          }
        }
      }
    }

    .distribution-card {
      margin-bottom: 24px;

      .distribution-bars {
        display: flex;
        flex-direction: column;
        gap: 20px;

        .distribution-item {
          display: grid;
          grid-template-columns: 100px 1fr 80px;
          align-items: center;
          gap: 16px;

          .label {
            font-weight: 600;
            color: #1a1a1a;
          }

          .bar-container {
            flex: 1;
          }

          .value {
            text-align: right;
            font-weight: 700;
            font-size: 18px;
            color: #1a1a1a;
          }
        }
      }
    }

    .goals-stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;

      .goals-card {
        mat-card-content {
          padding: 20px;

          .goals-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;

            mat-icon {
              font-size: 32px;
              width: 32px;
              height: 32px;

              &.goals-for {
                color: #4caf50;
              }

              &.goals-against {
                color: #f44336;
              }

              &.goal-diff {
                color: #1976d2;
              }

              &.possession {
                color: #ff9800;
              }
            }

            .goals-title {
              font-size: 13px;
              font-weight: 600;
              color: #666;
            }
          }

          .goals-value {
            font-size: 36px;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 16px;

            &.positive {
              color: #4caf50;
            }

            &.negative {
              color: #f44336;
            }
          }

          mat-divider {
            margin-bottom: 16px;
          }

          .goals-average {
            display: flex;
            justify-content: space-between;
            align-items: center;

            .average-label {
              font-size: 12px;
              color: #666;
            }

            .average-value {
              font-size: 18px;
              font-weight: 700;
              color: #1976d2;
            }
          }

          .possession-bar {
            margin-top: 8px;
          }
        }
      }
    }

    .context-card {
      margin-bottom: 24px;

      .context-comparison {
        display: grid;
        grid-template-columns: 1fr auto 1fr;
        gap: 32px;

        .context-section {
          .context-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;

            mat-icon {
              font-size: 32px;
              width: 32px;
              height: 32px;
              color: #1976d2;
            }

            h3 {
              margin: 0;
              font-size: 20px;
              font-weight: 600;
              color: #1a1a1a;
            }
          }

          .context-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 24px;

            .context-stat {
              display: flex;
              flex-direction: column;
              gap: 4px;
              padding: 12px;
              background-color: #f5f5f5;
              border-radius: 8px;

              .stat-label {
                font-size: 12px;
                color: #666;
              }

              .stat-value {
                font-size: 24px;
                font-weight: 700;
                color: #1a1a1a;
              }

              &.wins .stat-value {
                color: #4caf50;
              }

              &.draws .stat-value {
                color: #ff9800;
              }

              &.losses .stat-value {
                color: #f44336;
              }
            }
          }

          .win-rate {
            display: flex;
            flex-direction: column;
            gap: 8px;
            padding: 16px;
            background-color: #e3f2fd;
            border-radius: 8px;

            .win-rate-label {
              font-size: 13px;
              color: #666;
              font-weight: 600;
            }

            .win-rate-value {
              font-size: 32px;
              font-weight: 700;
              color: #1976d2;
            }
          }
        }
      }
    }

    .phases-card {
      margin-bottom: 24px;

      .phases-list {
        display: flex;
        flex-direction: column;
        gap: 16px;

        .phase-item {
          padding: 20px;
          background-color: #f5f5f5;
          border-radius: 12px;

          .phase-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;

            h4 {
              margin: 0;
              font-size: 16px;
              font-weight: 600;
              color: #1a1a1a;
            }
          }

          .phase-stats {
            display: flex;
            gap: 24px;

            .phase-stat {
              display: flex;
              align-items: center;
              gap: 8px;
              font-size: 14px;
              color: #666;

              mat-icon {
                font-size: 20px;
                width: 20px;
                height: 20px;
              }

              &.wins {
                color: #4caf50;
                mat-icon {
                  color: #4caf50;
                }
              }

              &.draws {
                color: #ff9800;
                mat-icon {
                  color: #ff9800;
                }
              }

              &.losses {
                color: #f44336;
                mat-icon {
                  color: #f44336;
                }
              }
            }
          }
        }
      }
    }

    .opponents-card {
      .opponents-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 16px;

        .opponent-item {
          padding: 20px;
          border: 2px solid #e0e0e0;
          border-radius: 12px;
          transition: all 0.3s ease;

          &:hover {
            border-color: #1976d2;
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          }

          .opponent-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;

            .opponent-badge {
              display: flex;
              align-items: center;
              justify-content: center;
              width: 48px;
              height: 48px;
              border-radius: 12px;

              mat-icon {
                font-size: 28px;
                width: 28px;
                height: 28px;
                color: white;
              }
            }

            h4 {
              margin: 0;
              font-size: 16px;
              font-weight: 600;
              color: #1a1a1a;
            }
          }

          .opponent-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;

            .opponent-record {
              display: flex;
              flex-direction: column;
              gap: 4px;

              .record-label {
                font-size: 12px;
                color: #666;
              }

              .record-value {
                font-size: 18px;
                font-weight: 700;
                color: #1a1a1a;
              }
            }

            .opponent-winrate {
              display: flex;
              flex-direction: column;
              gap: 4px;
              text-align: right;

              .winrate-value {
                font-size: 24px;
                font-weight: 700;
                color: #1976d2;
              }

              .winrate-label {
                font-size: 12px;
                color: #666;
              }
            }
          }
        }
      }
    }

    .evolution-card {
      margin-bottom: 24px;

      .evolution-chart {
        .chart-placeholder {
          display: flex;
          flex-direction: column;
          align-items: center;
          padding: 32px;
          background-color: #f5f5f5;
          border-radius: 12px;

          mat-icon {
            font-size: 64px;
            width: 64px;
            height: 64px;
            color: #1976d2;
            margin-bottom: 16px;
          }

          p {
            font-size: 16px;
            color: #666;
            margin-bottom: 24px;
          }

          .position-list {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            justify-content: center;

            .position-item {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 8px;
              padding: 12px;
              background-color: white;
              border-radius: 8px;
              min-width: 80px;

              .matchday {
                font-size: 12px;
                color: #666;
                font-weight: 600;
              }

              .position-badge {
                display: flex;
                align-items: center;
                justify-content: center;
                width: 40px;
                height: 40px;
                background-color: #1976d2;
                border-radius: 50%;

                .position {
                  font-size: 16px;
                  font-weight: 700;
                  color: white;
                }
              }

              .points {
                font-size: 12px;
                color: #666;
              }
            }
          }
        }
      }
    }

    .streak-card {
      margin-bottom: 24px;

      .streak-content {
        display: flex;
        gap: 24px;
        align-items: center;

        .streak-icon {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 80px;
          height: 80px;
          border-radius: 50%;

          mat-icon {
            font-size: 48px;
            width: 48px;
            height: 48px;
            color: white;
          }
        }

        .streak-info {
          flex: 1;

          h3 {
            margin: 0 0 16px 0;
            font-size: 24px;
            font-weight: 700;
            color: #1a1a1a;
          }

          .streak-matches {
            display: flex;
            flex-direction: column;
            gap: 8px;

            .streak-match {
              display: flex;
              align-items: center;
              gap: 8px;
              font-size: 14px;
              color: #666;

              mat-icon {
                font-size: 18px;
                width: 18px;
                height: 18px;
                color: #1976d2;
              }
            }
          }
        }
      }
    }

    .moments-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 24px;

      .moment-card {
        mat-card-header {
          mat-card-title {
            display: flex;
            align-items: center;
            gap: 8px;

            mat-icon {
              font-size: 28px;
              width: 28px;
              height: 28px;
            }
          }
        }

        mat-card-content {
          h3 {
            margin: 0 0 8px 0;
            font-size: 20px;
            font-weight: 700;
            color: #1a1a1a;
          }

          .moment-description {
            font-size: 14px;
            color: #666;
            margin-bottom: 20px;
          }

          .moment-stats {
            display: flex;
            flex-direction: column;
            gap: 12px;

            .moment-stat {
              display: flex;
              align-items: center;
              gap: 12px;
              padding: 12px;
              background-color: #f5f5f5;
              border-radius: 8px;
              font-size: 14px;
              color: #666;

              mat-icon {
                font-size: 20px;
                width: 20px;
                height: 20px;
              }
            }
          }
        }

        &.best {
          border: 2px solid #4caf50;

          mat-card-title mat-icon {
            color: #4caf50;
          }
        }

        &.worst {
          border: 2px solid #f44336;

          mat-card-title mat-icon {
            color: #f44336;
          }
        }
      }
    }
  }
}

@media (max-width: 1200px) {
  .team-stats-container {
    .stats-tabs {
      .main-stats-grid,
      .goals-stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .context-card .context-comparison {
        grid-template-columns: 1fr;

        mat-divider {
          display: none;
        }
      }

      .opponents-card .opponents-grid {
        grid-template-columns: 1fr;
      }
    }
  }
}

@media (max-width: 768px) {
  .team-stats-container {
    padding: 12px;

    .page-header {
      .header-content {
        .page-title {
          font-size: 24px;

          mat-icon {
            font-size: 28px;
            width: 28px;
            height: 28px;
          }
        }
      }
    }

    .stats-tabs {
      .main-stats-grid,
      .goals-stats-grid {
        grid-template-columns: 1fr;
      }

      .moments-grid {
        grid-template-columns: 1fr;
      }

      .distribution-bars .distribution-item {
        grid-template-columns: 1fr;
        gap: 8px;

        .value {
          text-align: left;
        }
      }
    }
  }
}

// Loading and No Data States
.loading-state,
.no-data-state {
  margin-top: 24px;

  mat-card {
    mat-card-content {
      padding: 48px 24px;
    }
  }

  .loading-content,
  .no-data-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    gap: 16px;

    .loading-icon,
    .no-data-icon {
      font-size: 64px;
      width: 64px;
      height: 64px;
      color: #1976d2;
      animation: pulse 2s ease-in-out infinite;
    }

    .no-data-icon {
      color: #ff9800;
      animation: none;
    }

    h2 {
      margin: 0;
      font-size: 24px;
      font-weight: 600;
      color: #1a1a1a;
    }

    p {
      margin: 0;
      font-size: 16px;
      color: #666;
      line-height: 1.6;
    }

    .no-data-description {
      max-width: 500px;
      font-size: 14px;
      color: #999;
    }
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}
