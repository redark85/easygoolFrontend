<mat-card class="next-match-card">
  <mat-card-header>
    <mat-card-title>
      <mat-icon>event</mat-icon>
      Próximo Partido
    </mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <!-- Estado sin datos -->
    <div *ngIf="!nextMatch" class="no-data-state">
      <mat-icon class="no-data-icon">event_busy</mat-icon>
      <h3>Sin próximo partido</h3>
      <p>No hay información de próximos partidos desde el API.</p>
    </div>

    <!-- Match Info -->
    <div *ngIf="nextMatch" class="match-info">
      <div *ngIf="nextMatch.matchday > 0" class="matchday-badge">
        Jornada {{ nextMatch.matchday }}
      </div>

      <!-- Teams -->
      <div class="teams-container">
        <!-- Home Team -->
        <div class="team home">
          <img [src]="nextMatch.homeTeam.logoUrl" 
               [alt]="nextMatch.homeTeam.name" 
               class="team-logo"
               (error)="$event.target.src='assets/default-team.png'">
          <span class="team-name">{{ nextMatch.homeTeam.name }}</span>
        </div>

        <!-- VS -->
        <div class="vs-separator">
          <span>VS</span>
        </div>

        <!-- Away Team -->
        <div class="team away">
          <img [src]="nextMatch.awayTeam.logoUrl" 
               [alt]="nextMatch.awayTeam.name" 
               class="team-logo"
               (error)="$event.target.src='assets/default-team.png'">
          <span class="team-name">{{ nextMatch.awayTeam.name }}</span>
        </div>
      </div>

      <!-- Match Details -->
      <div class="match-details">
        <div class="detail-item">
          <mat-icon>calendar_today</mat-icon>
          <span>{{ nextMatch.formattedDate }}</span>
        </div>
        <div class="detail-item">
          <mat-icon>schedule</mat-icon>
          <span>{{ nextMatch.date | date:'shortTime' }}</span>
        </div>
        <div class="detail-item">
          <mat-icon>location_on</mat-icon>
          <span>{{ nextMatch.venue }}</span>
        </div>
      </div>
    </div>

    <!-- Countdown -->
    <div *ngIf="nextMatch" class="countdown-container">
      <p class="countdown-label">Faltan:</p>
      <div class="countdown-grid">
        <div class="countdown-item">
          <span class="countdown-value">{{ countdown.days }}</span>
          <span class="countdown-unit">Días</span>
        </div>
        <div class="countdown-separator">:</div>
        <div class="countdown-item">
          <span class="countdown-value">{{ countdown.hours }}</span>
          <span class="countdown-unit">Horas</span>
        </div>
        <div class="countdown-separator">:</div>
        <div class="countdown-item">
          <span class="countdown-value">{{ countdown.minutes }}</span>
          <span class="countdown-unit">Min</span>
        </div>
        <div class="countdown-separator">:</div>
        <div class="countdown-item">
          <span class="countdown-value">{{ countdown.seconds }}</span>
          <span class="countdown-unit">Seg</span>
        </div>
      </div>
    </div>
  </mat-card-content>

  <mat-card-actions *ngIf="nextMatch">
    <button mat-button color="primary" [routerLink]="['/manager/matches-calendar']">
      <mat-icon>visibility</mat-icon>
      Ver Calendario
    </button>
  </mat-card-actions>
</mat-card>
