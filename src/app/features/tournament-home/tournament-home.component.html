<div class="tournament-home-container">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-background">
      <img src="assets/wallpaper.jpg" alt="Background" class="wallpaper-image">
      <div class="hero-overlay"></div>
    </div>
    
    <div class="container-fluid">
      <div class="row align-items-start">
        <!-- Left Column: Tournament Info (8 columns) -->
        <div class="col-lg-8">
          <div class="row align-items-center">
            <!-- Tournament Logo -->
            <div class="col-auto">
              <div class="tournament-logo">
                <img [src]="tournament.logoUrl" [alt]="tournament.name" class="tournament-image">
                
                <!-- Status Badge sobre la imagen -->
                <div class="status-badge"
                     [class]="'status-' + tournament.status"
                     [matTooltip]="getStatusBadge().label + ' - ' + tournament.season"
                     matTooltipPosition="above">
                  <mat-icon class="status-icon">{{ getStatusIcon(tournament.status) }}</mat-icon>
                </div>
              </div>
            </div>
            
            <!-- Tournament Info -->
            <div class="col">
              <div class="tournament-info">
                <div class="tournament-header">
                  <h1 class="tournament-title">{{ tournament.name }}</h1>
                </div>
                
                <div class="tournament-meta">
                  <div class="tournament-season">{{ tournament.season }}</div>
                  <div class="current-phase">
                    <mat-icon class="phase-icon">flag</mat-icon>
                    {{ tournament.currentPhase }}
                  </div>
                </div>
                
                <div class="tournament-stats">
                  <div class="stat-item">
                    <mat-icon>groups</mat-icon>
                    <span class="stat-number">{{ tournament.totalTeams }}</span>
                    <span class="stat-label">Equipos</span>
                  </div>
                  <div class="stat-item">
                    <mat-icon>sports_soccer</mat-icon>
                    <span class="stat-number">{{ tournament.totalMatches }}</span>
                    <span class="stat-label">Partidos</span>
                  </div>
                  <div class="stat-item">
                    <mat-icon>emoji_events</mat-icon>
                    <span class="stat-number">{{ tournament.totalGoals }}</span>
                    <span class="stat-label">Goles</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Right Column: Filters & Next Match (4 columns) -->
        <div class="col-lg-4">
          <div class="hero-right-content">
            <!-- Filters Row -->
            <div class="filters-row">
              <div class="row g-2">
                <div class="col-6">
                  <mat-form-field appearance="outline" class="filter-select">
                    <mat-label>Fase</mat-label>
                    <mat-select value="categoria-hombres">
                      <mat-option value="categoria-hombres">Categoría hombres</mat-option>
                      <mat-option value="categoria-mujeres">Categoría mujeres</mat-option>
                      <mat-option value="categoria-mixta">Categoría mixta</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-6">
                  <mat-form-field appearance="outline" class="filter-select">
                    <mat-label>Grupo</mat-label>
                    <mat-select value="grupo-1">
                      <mat-option value="grupo-1">Grupo 1</mat-option>
                      <mat-option value="grupo-2">Grupo 2</mat-option>
                      <mat-option value="grupo-3">Grupo 3</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </div>
            
            <!-- Next Match Card -->
            <div class="hero-next-match">
              <mat-card class="next-match-card-compact">
                <mat-card-header>
                  <mat-card-title>
                    <mat-icon>schedule</mat-icon>
                    Próximo Partido
                  </mat-card-title>
                </mat-card-header>
                <mat-card-content>
                  <div class="match-info-compact">
                    <div class="matchday-badge">
                      <span>Jornada {{ nextMatch.matchday }}</span>
                    </div>
                    
                    <div class="teams-container-compact">
                      <div class="team-compact">
                        <img [src]="nextMatch.homeTeam.logo" [alt]="nextMatch.homeTeam.name" class="team-logo-compact">
                        <span class="team-name-compact">{{ nextMatch.homeTeam.name }}</span>
                      </div>
                      
                      <div class="vs-section-compact">
                        <div class="vs-compact">VS</div>
                        <div class="match-venue">
                          <mat-icon>location_on</mat-icon>
                          {{ nextMatch.venue }}
                        </div>
                      </div>
                      
                      <div class="team-compact">
                        <img [src]="nextMatch.awayTeam.logo" [alt]="nextMatch.awayTeam.name" class="team-logo-compact">
                        <span class="team-name-compact">{{ nextMatch.awayTeam.name }}</span>
                      </div>
                    </div>
                    
                    <div class="match-details-compact">
                      <!-- Countdown Compacto -->
                      <div class="countdown-compact">
                        <div class="countdown-timer-compact">
                          <div class="time-unit-compact">
                            <span class="time-value-compact">{{ countdown.days }}</span>
                            <span class="time-label-compact">Días</span>
                          </div>
                          <div class="time-separator-compact">:</div>
                          <div class="time-unit-compact">
                            <span class="time-value-compact">{{ countdown.hours }}</span>
                            <span class="time-label-compact">Hrs</span>
                          </div>
                          <div class="time-separator-compact">:</div>
                          <div class="time-unit-compact">
                            <span class="time-value-compact">{{ countdown.minutes }}</span>
                            <span class="time-label-compact">Min</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </mat-card-content>
              </mat-card>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="content-wrapper">

    <!-- Two Column Layout -->
    <div class="two-column-layout">
      <!-- Left Column: Recent Matches -->
      <section class="recent-matches-section">
        <mat-card class="recent-matches-card">
          <mat-card-header>
            <mat-card-title>
              <mat-icon>history</mat-icon>
              Últimos Resultados
            </mat-card-title>
            <button mat-button routerLink="/public-fixture/1" class="view-all-btn">
              Ver todos
              <mat-icon>arrow_forward</mat-icon>
            </button>
          </mat-card-header>
          <mat-card-content>
            <div class="matches-list">
              <div *ngFor="let match of recentMatches" class="match-item">
                <div class="match-header">
                  <span class="matchday">J{{ match.matchday }}</span>
                  <span class="match-date">{{ formatMatchDate(match.date) }}</span>
                </div>
                <div class="match-result">
                  <div class="team" [class.winner]="getMatchResult(match) === 'home'">
                    <img [src]="match.homeTeam.logo" [alt]="match.homeTeam.name">
                    <span class="team-name">{{ match.homeTeam.name }}</span>
                  </div>
                  <div class="score">
                    <span class="score-value" [class.winner]="getMatchResult(match) === 'home'">{{ match.homeScore }}</span>
                    <span class="separator">-</span>
                    <span class="score-value" [class.winner]="getMatchResult(match) === 'away'">{{ match.awayScore }}</span>
                  </div>
                  <div class="team" [class.winner]="getMatchResult(match) === 'away'">
                    <span class="team-name">{{ match.awayTeam.name }}</span>
                    <img [src]="match.awayTeam.logo" [alt]="match.awayTeam.name">
                  </div>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </section>

      <!-- Right Column: Top Scorers -->
      <section class="top-scorers-section">
        <mat-card class="top-scorers-card">
          <mat-card-header>
            <mat-card-title>
              <mat-icon>sports_soccer</mat-icon>
              Máximos Goleadores
            </mat-card-title>
            <button mat-button routerLink="/public-top-scorers/1" class="view-all-btn">
              Ver tabla completa
              <mat-icon>arrow_forward</mat-icon>
            </button>
          </mat-card-header>
          <mat-card-content>
            <div class="scorers-list">
              <div *ngFor="let scorer of topScorers; let i = index" class="scorer-item">
                <div class="position-badge" [class.gold]="i === 0" [class.silver]="i === 1" [class.bronze]="i === 2">
                  {{ i + 1 }}
                </div>
                <img [src]="scorer.photo" [alt]="scorer.name" class="player-photo">
                <div class="scorer-info">
                  <h4>{{ scorer.name }}</h4>
                  <div class="team-info">
                    <img [src]="scorer.teamLogo" [alt]="scorer.team" class="team-logo-small">
                    <span>{{ scorer.team }}</span>
                  </div>
                </div>
                <div class="goals-info">
                  <span class="goals-count">{{ scorer.goals }}</span>
                  <span class="goals-label">goles</span>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </section>
    </div>

    <!-- Quick Links Section -->
    <section class="quick-links-section">
      <h2 class="section-title">Explora el Torneo</h2>
      <div class="quick-links-grid">
        <mat-card *ngFor="let link of quickLinks" 
                  class="quick-link-card" 
                  [routerLink]="link.route"
                  [style.border-top-color]="link.color">
          <mat-card-content>
            <div class="link-icon" [style.background-color]="link.color + '20'">
              <mat-icon [style.color]="link.color">{{ link.icon }}</mat-icon>
            </div>
            <h3>{{ link.title }}</h3>
            <p>{{ link.description }}</p>
            <mat-icon class="arrow-icon">arrow_forward</mat-icon>
          </mat-card-content>
        </mat-card>
      </div>
    </section>

    <!-- Tournament Info Footer -->
    <section class="tournament-info-footer">
      <mat-card>
        <mat-card-content>
          <div class="info-grid">
            <div class="info-item">
              <mat-icon>calendar_today</mat-icon>
              <div class="info-content">
                <span class="info-label">Inicio del Torneo</span>
                <span class="info-value">{{ tournament.startDate | date:'dd MMM yyyy' }}</span>
              </div>
            </div>
            <div class="info-item">
              <mat-icon>event</mat-icon>
              <div class="info-content">
                <span class="info-label">Finalización</span>
                <span class="info-value">{{ tournament.endDate | date:'dd MMM yyyy' }}</span>
              </div>
            </div>
            <div class="info-item">
              <mat-icon>flag</mat-icon>
              <div class="info-content">
                <span class="info-label">Fase Actual</span>
                <span class="info-value">{{ tournament.currentPhase }}</span>
              </div>
            </div>
            <div class="info-item">
              <mat-icon>sports</mat-icon>
              <div class="info-content">
                <span class="info-label">Formato</span>
                <span class="info-value">Todos contra Todos</span>
              </div>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </section>
  </div>
</div>
